import{l as a,t as e,u as l,r as t,h as u,c as n,p as r}from"./VVabkdHj.js";function v(v,c,o=c){var d=new WeakSet;a(v,"input",async a=>{var l=a?v.defaultValue:v.value;if(l=i(v)?s(l):l,o(l),null!==n&&d.add(n),await e(),l!==(l=c())){var t=v.selectionStart,u=v.selectionEnd;v.value=l??"",null!==u&&(v.selectionStart=t,v.selectionEnd=Math.min(u,v.value.length))}}),(u&&v.defaultValue!==v.value||null==l(c)&&v.value)&&(o(i(v)?s(v.value):v.value),null!==n&&d.add(n)),t(()=>{var a=c();if(v===document.activeElement){var e=r??n;if(d.has(e))return}i(v)&&a===s(v.value)||("date"!==v.type||a||v.value)&&a!==v.value&&(v.value=a??"")})}function i(a){var e=a.type;return"number"===e||"range"===e}function s(a){return""===a?null:+a}export{v as b};
