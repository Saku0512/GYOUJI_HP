import"../chunks/Cm9PB-7n.js";import"../chunks/BB0NFQV6.js";import{w as e,p as t,x as n,y as i,o as a,W as s,q as o,m as r,z as l,B as c,A as u,i as d,H as v,I as h,a as f,g as p,c as w,d as m,f as g,k as b,r as y,l as k,C as L,Q as C,t as $,s as x,K as z,j as E,b as O,X as T,a0 as S,a2 as D,a5 as N,ae as M,Z as I,a1 as Q,a4 as A,ad as H,af as j,V as B,U as R,n as W}from"../chunks/BRFgxvOq.js";import{s as P}from"../chunks/BOLYuTPu.js";import{a as q,s as F,p as V}from"../chunks/Dp5EjsQM.js";import{u as Z,A as K,c as U,E as _,g as X,b as G,i as J}from"../chunks/DiqqC9HZ.js";import{i as Y}from"../chunks/DoIqPyr3.js";import{p as ee,E as te}from"../chunks/CZAXbs8e.js";import{c as ne,f as ie,A as ae,R as se,L as oe}from"../chunks/B3wANwLS.js";const re=()=>{const e=P;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},le={subscribe:e=>re().page.subscribe(e)},ce={subscribe:e=>re().navigating.subscribe(e)},ue=e({isOnline:"undefined"==typeof navigator||navigator.onLine,connectionType:"unknown",effectiveType:"unknown",downlink:0,rtt:0,saveData:!1,lastOnlineTime:null,lastOfflineTime:null});const de=new class{constructor(){this.isInitialized=!1,this.onlineListeners=[],this.offlineListeners=[],this.connectionChangeListeners=[],this.retryQueue=[],this.isProcessingQueue=!1}initialize(){if(!this.isInitialized&&"undefined"!=typeof window){if(window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),"connection"in navigator){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&(this.updateConnectionInfo(e),e.addEventListener("change",()=>{this.updateConnectionInfo(e),this.notifyConnectionChange()}))}this.updateNetworkStatus(navigator.onLine),this.isInitialized=!0}}handleOnline(){this.updateNetworkStatus(!0),Z.showNotification("インターネット接続が復旧しました","success",3e3),this.onlineListeners.forEach(e=>{try{e()}catch(t){}}),this.processRetryQueue()}handleOffline(){this.updateNetworkStatus(!1),Z.showNotification("インターネット接続が切断されました","warning",5e3),this.offlineListeners.forEach(e=>{try{e()}catch(t){}})}updateNetworkStatus(e){const t=(new Date).toISOString();ue.update(n=>({...n,isOnline:e,lastOnlineTime:e?t:n.lastOnlineTime,lastOfflineTime:e?n.lastOfflineTime:t}))}updateConnectionInfo(e){ue.update(t=>({...t,connectionType:e.type||"unknown",effectiveType:e.effectiveType||"unknown",downlink:e.downlink||0,rtt:e.rtt||0,saveData:e.saveData||!1}))}notifyConnectionChange(){this.connectionChangeListeners.forEach(e=>{try{e()}catch(t){}})}addOnlineListener(e){this.onlineListeners.push(e)}addOfflineListener(e){this.offlineListeners.push(e)}addConnectionChangeListener(e){this.connectionChangeListeners.push(e)}removeOnlineListener(e){const t=this.onlineListeners.indexOf(e);t>-1&&this.onlineListeners.splice(t,1)}removeOfflineListener(e){const t=this.offlineListeners.indexOf(e);t>-1&&this.offlineListeners.splice(t,1)}removeConnectionChangeListener(e){const t=this.connectionChangeListeners.indexOf(e);t>-1&&this.connectionChangeListeners.splice(t,1)}addToRetryQueue(e,t={}){const n={id:`retry-${Date.now()}-${Math.random()}`,operation:e,context:t,timestamp:Date.now(),attempts:0,maxAttempts:t.maxAttempts||3};return this.retryQueue.push(n),navigator.onLine&&this.processRetryQueue(),n.id}async processRetryQueue(){if(this.isProcessingQueue||!navigator.onLine||0===this.retryQueue.length)return;this.isProcessingQueue=!0;const e=[...this.retryQueue];this.retryQueue=[];for(const n of e)try{await n.operation()}catch(t){if(n.attempts++,n.attempts<n.maxAttempts)this.retryQueue.push(n);else{const e=new K(`ネットワーク復旧後の再試行に失敗しました: ${t.message}`,U.NETWORK,_.MEDIUM,{retryId:n.id,attempts:n.attempts,originalError:t,context:n.context});X.handleError(e)}}this.isProcessingQueue=!1}getConnectionQuality(){const e=this.getCurrentState();if(!e.isOnline)return"offline";switch(e.effectiveType){case"slow-2g":case"2g":return"poor";case"3g":return"good";case"4g":return"excellent";default:return e.downlink>=10?"excellent":e.downlink>=1.5?"good":e.downlink>=.5?"fair":"poor"}}getCurrentState(){let e;return ue.subscribe(t=>{e=t})(),e}async testConnection(e="/api/health"){try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),i=await fetch(e,{method:"HEAD",signal:t.signal,cache:"no-cache"});return clearTimeout(n),i.ok}catch(t){return!1}}cleanup(){"undefined"!=typeof window&&(window.removeEventListener("online",this.handleOnline.bind(this)),window.removeEventListener("offline",this.handleOffline.bind(this))),this.onlineListeners=[],this.offlineListeners=[],this.connectionChangeListeners=[],this.retryQueue=[],this.isInitialized=!1}};var ve=T('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),he=T('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'),fe=T('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>'),pe=T('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>'),we=g('<button type="button"> </button>'),me=g('<div class="toast-actions svelte-1b8horc"></div>'),ge=g('<button class="toast-close svelte-1b8horc" aria-label="通知を閉じる" type="button"><svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button>'),be=g('<div class="toast-progress svelte-1b8horc"><div class="toast-progress-bar svelte-1b8horc"></div></div>'),ye=g('<div aria-atomic="true" tabindex="0"><div class="toast-content svelte-1b8horc"><div class="toast-icon svelte-1b8horc"><!></div> <div class="toast-message svelte-1b8horc"> </div> <!> <!></div> <!></div>');function ke(e,g){t(g,!1);const T=r(),M=r(),I=r();let Q=n(g,"message",8,""),A=n(g,"type",8,"info"),H=n(g,"duration",8,5e3),j=n(g,"dismissible",8,!0),B=n(g,"isPaused",8,!1),R=n(g,"showProgress",8,!0),W=n(g,"actions",24,()=>[]);const P=i();let q,F,V,Z=r(!0),K=H(),U=r(),_=r(),X=r(100);function G(){q&&(clearTimeout(q),q=null),V&&(cancelAnimationFrame(V),V=null)}function J(){if(!R()||H()<=0)return;const e=()=>{if(!p(Z)||B())return;const t=Date.now()-F,n=Math.max(0,1-t/K);o(X,100*n),n>0&&(V=requestAnimationFrame(e))};V=requestAnimationFrame(e)}function Y(){o(Z,!1),G(),P("close")}function ee(e){"Escape"===e.key&&j()&&Y()}a(()=>{H()>0&&(F=Date.now(),function(){if(H()<=0)return;G(),F=Date.now(),K=H(),q=setTimeout(()=>{Y()},H()),R()&&J()}())}),s(()=>{G()}),l(()=>(c(H()),c(B())),()=>{H()>0&&(B()?function(){if(q){clearTimeout(q),q=null;const e=Date.now()-F;K=Math.max(0,H()-e)}V&&(cancelAnimationFrame(V),V=null)}():K>0&&!q&&(F=Date.now(),q=setTimeout(()=>{Y()},K),R()&&J()))}),l(()=>c(A()),()=>{o(T,"error"===A()?"alert":"status")}),l(()=>c(A()),()=>{o(M,"error"===A()?"assertive":"polite")}),l(()=>c(A()),()=>{o(I,{success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"}[A()]||"#6b7280")}),u(),d();var te=v(),ne=h(te),ie=e=>{var t=ye();let n;var i=b(t),a=b(i),s=b(a),r=e=>{var t=ve();w(e,t)},l=e=>{var t=v(),n=h(t),i=e=>{var t=he();w(e,t)},a=e=>{var t=v(),n=h(t),i=e=>{var t=fe();w(e,t)},a=e=>{var t=pe();w(e,t)};f(n,e=>{"warning"===A()?e(i):e(a,!1)},!0),w(e,t)};f(n,e=>{"error"===A()?e(i):e(a,!1)},!0),w(e,t)};f(s,e=>{"success"===A()?e(r):e(l,!1)}),y(a);var u=k(a,2),d=b(u,!0);y(u);var m=k(u,2),g=e=>{var t=me();S(t,5,W,D,(e,t)=>{var n=we(),i=b(n,!0);y(n),$(()=>{x(n,1,`toast-action toast-action-${p(t),L(()=>p(t).variant||"primary")??""}`,"svelte-1b8horc"),E(i,(p(t),L(()=>p(t).label)))}),O("click",n,()=>function(e){try{e.onClick(),Y()}catch(t){}}(p(t))),w(e,n)}),y(t),w(e,t)};f(m,e=>{c(W()),L(()=>W()&&W().length>0)&&e(g)});var P=k(m,2),q=e=>{var t=ge();O("click",t,Y),w(e,t)};f(P,e=>{j()&&e(q)}),y(i);var F=k(i,2),V=e=>{var t=be(),n=b(t);y(t),C(t,e=>o(U,e),()=>p(U)),$(()=>N(n,`width: ${p(X)??""}%; background-color: ${p(I)??""};`)),w(e,t)};f(F,e=>{R()&&H()>0&&e(V)}),y(t),C(t,e=>o(_,e),()=>p(_)),$(e=>{n=x(t,1,`toast toast-${A()??""}`,"svelte-1b8horc",n,e),z(t,"role",p(T)),z(t,"aria-live",p(M)),E(d,Q())},[()=>({paused:B()})]),O("keydown",t,ee),w(e,t)};f(ne,e=>{p(Z)&&e(ie)}),w(e,te),m()}function Le(e,{from:t,to:n},i={}){var{delay:a=0,duration:s=e=>120*Math.sqrt(e),easing:o=ne}=i,r=getComputedStyle(e),l="none"===r.transform?"":r.transform,[c,u]=r.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,u/=e.clientHeight;var d=function(e){if("currentCSSZoom"in e)return e.currentCSSZoom;var t=e,n=1;for(;null!==t;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}(e),v=e.clientWidth/n.width/d,h=e.clientHeight/n.height/d,f=t.left+t.width*c,p=t.top+t.height*u,w=n.left+n.width*c,m=n.top+n.height*u,g=(f-w)*v,b=(p-m)*h,y=t.width/n.width,k=t.height/n.height;return{delay:a,duration:"function"==typeof s?s(Math.sqrt(g*g+b*b)):s,easing:o,css:(e,t)=>`transform: ${l} translate(${t*g}px, ${t*b}px) scale(${e+t*y}, ${e+t*k});`}}var Ce=g('<div class="notification-header svelte-bmueb8"><button class="clear-all-button svelte-bmueb8" aria-label="すべての通知をクリア" type="button"><svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg> すべてクリア</button></div>'),$e=g('<div class="notification-wrapper svelte-bmueb8"><!></div>'),xe=g('<div class="notification-overflow svelte-bmueb8"><span class="overflow-text svelte-bmueb8"> </span> <button class="show-all-button svelte-bmueb8" type="button">すべて表示</button></div>'),ze=g('<div role="region" aria-label="通知" aria-live="polite"><!> <div class="notifications-list svelte-bmueb8"></div> <!></div>');function Ee(e,i){t(i,!1);const[a,g]=I(),T=()=>Q(G,"$uiStore",a),D=r(),B=r();let R=n(i,"position",8,"top-right"),W=n(i,"maxNotifications",12,5),P=n(i,"defaultDuration",8,5e3),q=n(i,"pauseOnHover",8,!0),F=n(i,"stackDirection",8,"down"),V=n(i,"animationDuration",8,300),K=n(i,"spacing",8,8),U=r([]),_=r(),X=new Set;const J=G.subscribe(e=>{o(U,e.notifications.slice(-W()))});function Y(){Z.clearNotifications(),X.clear()}function ee(){q()&&p(U).forEach(e=>{X.add(e.id)})}function te(){q()&&(X.forEach(e=>{const t=p(U).find(t=>t.id===e);if(t){const n=Date.now()-t.timestamp,i=P()-n;i>0&&setTimeout(()=>{X.has(e)||Z.removeNotification(e)},i)}}),X.clear())}function ne(e){const t=parseInt(e.target.dataset.notificationId);t&&q()&&X.add(t)}function ae(e){const t=parseInt(e.target.dataset.notificationId);t&&X.delete(t)}s(()=>{J()}),l(()=>p(U),()=>{p(U).forEach(e=>{e._autoRemovalSet||(e._autoRemovalSet=!0,function(e){if(0===e.duration)return;const t=e.duration||P();setTimeout(()=>{X.has(e.id)||Z.removeNotification(e.id)},t)}(e))})}),l(()=>c(R()),()=>{o(D,`position-${R()}`)}),l(()=>c(F()),()=>{o(B,`stack-${F()}`)}),u(),d();var se=v();O("keydown",M,function(e){"Escape"===e.key&&Y()});var oe=h(se),re=e=>{var t=ze(),n=b(t),i=e=>{var t=Ce(),n=b(t);y(t),O("click",n,Y),w(e,t)};f(n,e=>{p(U),L(()=>p(U).length>1)&&e(i)});var a=k(n,2);S(a,13,()=>p(U),e=>e.id,(e,t)=>{var n=$e(),i=b(n);{let e=A(()=>(p(t),L(()=>X.has(p(t).id))));ke(i,{get message(){return p(t),L(()=>p(t).message)},get type(){return p(t),L(()=>p(t).type)},duration:0,dismissible:!0,get isPaused(){return p(e)},$$events:{close:()=>{return e=p(t).id,Z.removeNotification(e),void X.delete(e);var e}}})}y(n),$(()=>z(n,"data-notification-id",(p(t),L(()=>p(t).id)))),O("focus",n,ne),O("blur",n,ae),H(1,n,()=>ie,()=>({x:R().includes("right")?300:R().includes("left")?-300:0,y:R().includes("top")?-50:R().includes("bottom")?50:0,duration:V()})),H(2,n,()=>ie,()=>({x:R().includes("right")?300:R().includes("left")?-300:0,duration:V()})),j(n,()=>Le,()=>({duration:V()})),w(e,n)}),y(a);var s=k(a,2),r=e=>{var t=xe(),n=b(t),i=b(n);y(n);var a=k(n,2);y(t),$(()=>E(i,`他に ${T(),c(W()),L(()=>T().notifications.length-W())??""} 件の通知があります`)),O("click",a,()=>W(T().notifications.length)),w(e,t)};f(s,e=>{T(),c(W()),L(()=>T().notifications.length>W())&&e(r)}),y(t),C(t,e=>o(_,e),()=>p(_)),$(()=>{x(t,1,`notification-container ${p(D)??""} ${p(B)??""}`,"svelte-bmueb8"),N(t,`--spacing: ${K()??""}px; --animation-duration: ${V()??""}ms;`)}),O("mouseenter",t,ee),O("mouseleave",t,te),w(e,t)};f(oe,e=>{p(U),L(()=>p(U).length>0)&&e(re)}),w(e,se),m(),g()}var Oe=g('<div class="nav-brand svelte-1oa544o"><a class="brand-link svelte-1oa544o"> </a></div>'),Te=g('<button><span class="hamburger-line svelte-1oa544o"></span> <span class="hamburger-line svelte-1oa544o"></span> <span class="hamburger-line svelte-1oa544o"></span></button>'),Se=g('<span class="nav-icon svelte-1oa544o"> </span>'),De=g('<a><!> <span class="nav-text svelte-1oa544o"> </span></a>'),Ne=g('<span class="nav-icon svelte-1oa544o"> </span>'),Me=g('<button><!> <span class="nav-text svelte-1oa544o"> </span></button>'),Ie=g('<li class="nav-item svelte-1oa544o"><!></li>'),Qe=g('<div class="nav-overlay svelte-1oa544o" role="button" tabindex="0" aria-label="メニューを閉じる"></div>'),Ae=g('<nav><!> <!> <div><ul class="nav-list svelte-1oa544o"></ul></div> <!></nav>');var He=g('<div class="loading-overlay svelte-z9eu0n"><div class="loading-spinner svelte-z9eu0n"></div></div>'),je=g("<div><!> <!></div>");var Be=g('<li class="svelte-1nuwwl7"><a href="/admin" class="svelte-1nuwwl7">管理ダッシュボード</a></li>'),Re=g('<li class="svelte-1nuwwl7"><a href="/login" class="svelte-1nuwwl7">管理者ログイン</a></li>'),We=g('<div class="footer-content svelte-1nuwwl7"><div class="footer-section svelte-1nuwwl7"><h3 class="footer-title svelte-1nuwwl7">トーナメント管理システム</h3> <p class="footer-description svelte-1nuwwl7">バレーボール、卓球、8人制サッカーのトーナメント管理</p></div> <div class="footer-section svelte-1nuwwl7"><h4 class="footer-subtitle svelte-1nuwwl7">リンク</h4> <ul class="footer-links svelte-1nuwwl7"><li class="svelte-1nuwwl7"><a href="/" class="svelte-1nuwwl7">ホーム</a></li> <!></ul></div></div> <div class="footer-bottom svelte-1nuwwl7"><p class="svelte-1nuwwl7">&copy; 2024 トーナメント管理システム. All rights reserved.</p></div>',1),Pe=g('<div class="loading-overlay svelte-1nuwwl7"><div class="loading-content svelte-1nuwwl7"><!> <p class="loading-text svelte-1nuwwl7">処理中...</p></div></div>'),qe=g('<div class="network-status offline svelte-1nuwwl7" role="alert" aria-live="polite"><div class="network-status-content svelte-1nuwwl7"><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" class="network-icon svelte-1nuwwl7"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" class="svelte-1nuwwl7"></path><path d="M3 16l14-14" stroke="currentColor" stroke-width="2" class="svelte-1nuwwl7"></path></svg> <span class="svelte-1nuwwl7">オフライン - 接続が復旧したら自動的に同期されます</span></div></div>'),Fe=g('<div class="app-layout svelte-1nuwwl7"><header class="header svelte-1nuwwl7"><!></header> <main class="main-content svelte-1nuwwl7"><!></main> <footer class="footer svelte-1nuwwl7"><!></footer> <!> <!> <!></div>');function Ve(e,g){t(g,!1);const[T,N]=I(),M=()=>Q(q,"$authStore",T),A=()=>Q(G,"$uiStore",T),H=()=>Q(ue,"$networkStore",T),j=()=>Q(le,"$page",T),P=r(),K=r(),U=r(),_=r(),X=r();let ne;async function ie(){try{Z.setLoading(!0),Z.showNotification("ログアウト中...","info"),await V("/")}catch(e){Z.showNotification("ログアウト処理でエラーが発生しました","error"),Z.setLoading(!1)}}function re(e){const{item:t}=e.detail;t.onClick&&t.onClick()}a(()=>{ee.measureWebVitals(),J(),de.initialize(),Y(),Z.loadTheme(),q.initialize(),ne=F()}),s(()=>{ne&&ne(),ee.disconnect()}),l(()=>M(),()=>{o(P,M())}),l(()=>A(),()=>{o(K,A())}),l(()=>H(),()=>{o(U,H())}),l(()=>p(P),()=>{o(_,[{key:"home",label:"ホーム",href:"/",icon:"🏠"},...p(P).isAuthenticated?[{key:"admin",label:"管理ダッシュボード",href:"/admin",icon:"⚙️"},{key:"logout",label:"ログアウト",onClick:ie,icon:"🚪"}]:[{key:"login",label:"管理者ログイン",href:"/login",icon:"🔑"}]])}),l(()=>j(),()=>{var e;o(X,"/"===(e=j().url.pathname)?"home":e.startsWith("/admin")?"admin":e.startsWith("/login")?"login":"")}),u(),d(),se(e,{children:(e,T)=>{var N=Fe(),M=b(N);!function(e,g){t(g,!1);const T=r();let N=n(g,"items",24,()=>[]),M=n(g,"activeItem",8,""),I=n(g,"brand",8,""),Q=n(g,"brandHref",8,"/"),A=n(g,"mobileBreakpoint",8,768),H=n(g,"className",8,"");const j=i();let R=r(!1),W=r(!1),P=r();function q(){"undefined"!=typeof window&&o(W,window.innerWidth<A())}function F(){o(R,!p(R)),j("toggle",{isOpen:p(R)})}function V(){o(R,!1),j("close")}function Z(e,t){p(W)&&V(),j("itemClick",{item:e,event:t})}function K(e){p(R)&&p(P)&&!p(P).contains(e.target)&&V()}function U(e){"Escape"===e.key&&p(R)&&V()}function _(){q(),!p(W)&&p(R)&&V()}a(()=>{q(),window.addEventListener("resize",_),document.addEventListener("click",K),document.addEventListener("keydown",U)}),s(()=>{"undefined"!=typeof window&&(window.removeEventListener("resize",_),document.removeEventListener("click",K),document.removeEventListener("keydown",U))}),l(()=>(p(R),p(W),c(H())),()=>{o(T,["responsive-nav",p(R)?"nav-open":"",p(W)?"nav-mobile":"nav-desktop",H()].filter(Boolean).join(" "))}),u(),d();var X=Ae(),G=b(X),J=e=>{var t=Oe(),n=b(t),i=b(n,!0);y(n),y(t),$(()=>{z(n,"href",Q()),E(i,I())}),w(e,t)};f(G,e=>{I()&&e(J)});var Y=k(G,2),ee=e=>{var t=Te();let n;$(e=>{n=x(t,1,"nav-toggle svelte-1oa544o",null,n,e),z(t,"aria-label","メニューを"+(p(R)?"閉じる":"開く")),z(t,"aria-expanded",p(R))},[()=>({active:p(R)})]),O("click",t,F),w(e,t)};f(Y,e=>{p(W)&&e(ee)});var te=k(Y,2);let ne;var ie=b(te);S(ie,5,N,D,(e,t)=>{var n=Ie(),i=b(n),a=e=>{var n=De();let i;var a=b(n),s=e=>{var n=Se(),i=b(n,!0);y(n),$(()=>E(i,(p(t),L(()=>p(t).icon)))),w(e,n)};f(a,e=>{p(t),L(()=>p(t).icon)&&e(s)});var o=k(a,2),r=b(o,!0);y(o),y(n),$(e=>{z(n,"href",(p(t),L(()=>p(t).href))),i=x(n,1,"nav-link svelte-1oa544o",null,i,e),E(r,(p(t),L(()=>p(t).label)))},[()=>({active:M()===p(t).key})]),O("click",n,e=>Z(p(t),e)),w(e,n)},s=e=>{var n=v(),i=h(n),a=e=>{var n=Me();let i;var a=b(n),s=e=>{var n=Ne(),i=b(n,!0);y(n),$(()=>E(i,(p(t),L(()=>p(t).icon)))),w(e,n)};f(a,e=>{p(t),L(()=>p(t).icon)&&e(s)});var o=k(a,2),r=b(o,!0);y(o),y(n),$(e=>{i=x(n,1,"nav-button svelte-1oa544o",null,i,e),E(r,(p(t),L(()=>p(t).label)))},[()=>({active:M()===p(t).key})]),O("click",n,e=>Z(p(t),e)),w(e,n)};f(i,e=>{p(t),L(()=>p(t).onClick)&&e(a)},!0),w(e,n)};f(i,e=>{p(t),L(()=>p(t).href)?e(a):e(s,!1)}),y(n),w(e,n)}),y(ie),y(te);var ae=k(te,2),se=e=>{var t=Qe();O("click",t,V),O("keydown",t,e=>"Enter"===e.key&&V()),w(e,t)};f(ae,e=>{p(W)&&p(R)&&e(se)}),y(X),C(X,e=>o(P,e),()=>p(P)),$(e=>{x(X,1,B(p(T)),"svelte-1oa544o"),ne=x(te,1,"nav-menu svelte-1oa544o",null,ne,e)},[()=>({show:p(R)||!p(W)})]),w(e,X),m()}(b(M),{brand:"トーナメント管理",brandHref:"/",get items(){return p(_)},get activeItem(){return p(X)},className:"main-navigation",$$events:{itemClick:re}}),y(M);var A=k(M,2),H=b(A);te(H,{errorTitle:"アプリケーションエラー",errorMessage:"アプリケーションでエラーが発生しました。ページを再読み込みするか、しばらく待ってから再試行してください。",showRetry:!0,retryText:"再読み込み",onRetry:()=>window.location.reload(),children:(e,i)=>{!function(e,i){t(i,!1);const[s,c]=I(),g=()=>Q(ce,"$navigating",s),L=()=>Q(le,"$page",s);let C=n(i,"transitionType",8,"fade"),z=n(i,"duration",8,300),E=n(i,"className",8,""),O=r(!1),T=r(""),S=r(!0);a(()=>{o(S,!0),o(T,L().url.pathname)}),l(()=>(g(),p(O)),()=>{g()?(o(O,!0),o(S,!1)):p(O)&&setTimeout(()=>{o(S,!0),o(O,!1)},50)}),l(()=>(L(),p(T),p(O)),()=>{L().url.pathname!==p(T)&&(o(T,L().url.pathname),p(O)||o(S,!0))}),u(),d();var D=je(),N=b(D);ae(N,{get show(){return p(S)},get type(){return C()},get duration(){return z()},direction:"up",className:"page-content",children:(e,t)=>{var n=v(),a=h(n);R(a,i,"default",{}),w(e,n)},$$slots:{default:!0}});var M=k(N,2),A=e=>{var t=He();w(e,t)};f(M,e=>{p(O)&&e(A)}),y(D),$(()=>x(D,1,`page-transition-container ${E()??""}`,"svelte-z9eu0n")),w(e,D),m(),c()}(e,{transitionType:"fade",duration:300,children:(e,t)=>{var n=v(),i=h(n);R(i,g,"default",{}),w(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}}),y(A);var j=k(A,2),q=b(j);se(q,{container:!0,padding:!0,children:(e,t)=>{var n=We(),i=h(n),a=k(b(i),2),s=k(b(a),2),o=k(b(s),2),r=e=>{var t=Be();w(e,t)},l=e=>{var t=Re();w(e,t)};f(o,e=>{p(P),L(()=>p(P).isAuthenticated)?e(r):e(l,!1)}),y(s),y(a),y(i),W(2),w(e,n)},$$slots:{default:!0}}),y(j);var F=k(j,2),V=e=>{var t=Pe(),n=b(t),i=b(n);oe(i,{size:"large"}),W(2),y(n),y(t),w(e,t)};f(F,e=>{p(K),p(P),L(()=>p(K).loading||p(P).loading)&&e(V)});var Z=k(F,2),G=e=>{var t=qe();w(e,t)};f(Z,e=>{p(U),L(()=>!p(U).isOnline)&&e(G)}),Ee(k(Z,2),{position:"top-right",maxNotifications:5,defaultDuration:5e3,pauseOnHover:!0,stackDirection:"down"}),y(N),w(e,N)},$$slots:{default:!0}}),m(),N()}export{Ve as component};
