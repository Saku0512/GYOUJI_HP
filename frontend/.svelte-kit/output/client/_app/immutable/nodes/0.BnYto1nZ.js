import"../chunks/Cm9PB-7n.js";import{i as e}from"../chunks/B-6MdqlE.js";import{av as t,z as n,ak as i,L as a,at as s,K as o,O as r,al as l,w as c,am as u,R as d,B as v,v as h,D as f,F as p,A as m,G as w,H as g,I as b,u as y,C as k,J as L,N as C,au as $,aQ as x,ab as O,Q as z}from"../chunks/VVabkdHj.js";import{p as E,i as T,s as S,a as D}from"../chunks/BSkGyvYi.js";import{e as N,i as M,c as Q,t as I,f as A,d as j,A as H,s as R,R as B,L as P}from"../chunks/BH2mRkq2.js";import{s as W}from"../chunks/BRsi0Z70.js";import{a as F,s as q,p as K}from"../chunks/CmSD4Lw8.js";import{u as V,A as Z,m as _,E as G,g as J,s as U,a as X,f as Y,e as ee,c as te,n as ne}from"../chunks/JJD-QFX9.js";import{i as ie}from"../chunks/DoIqPyr3.js";import{p as ae,E as se}from"../chunks/DhbCgPnK.js";import{b as oe}from"../chunks/4-skfxEB.js";const re=()=>{const e=W;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},le={subscribe:e=>re().page.subscribe(e)},ce={subscribe:e=>re().navigating.subscribe(e)},ue=t({isOnline:"undefined"==typeof navigator||navigator.onLine,connectionType:"unknown",effectiveType:"unknown",downlink:0,rtt:0,saveData:!1,lastOnlineTime:null,lastOfflineTime:null});const de=new class{constructor(){this.isInitialized=!1,this.onlineListeners=[],this.offlineListeners=[],this.connectionChangeListeners=[],this.retryQueue=[],this.isProcessingQueue=!1}initialize(){if(!this.isInitialized&&"undefined"!=typeof window){if(window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this)),"connection"in navigator){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&(this.updateConnectionInfo(e),e.addEventListener("change",()=>{this.updateConnectionInfo(e),this.notifyConnectionChange()}))}this.updateNetworkStatus(navigator.onLine),this.isInitialized=!0}}handleOnline(){this.updateNetworkStatus(!0),V.showNotification("インターネット接続が復旧しました","success",3e3),this.onlineListeners.forEach(e=>{try{e()}catch(t){}}),this.processRetryQueue()}handleOffline(){this.updateNetworkStatus(!1),V.showNotification("インターネット接続が切断されました","warning",5e3),this.offlineListeners.forEach(e=>{try{e()}catch(t){}})}updateNetworkStatus(e){const t=(new Date).toISOString();ue.update(n=>({...n,isOnline:e,lastOnlineTime:e?t:n.lastOnlineTime,lastOfflineTime:e?n.lastOfflineTime:t}))}updateConnectionInfo(e){ue.update(t=>({...t,connectionType:e.type||"unknown",effectiveType:e.effectiveType||"unknown",downlink:e.downlink||0,rtt:e.rtt||0,saveData:e.saveData||!1}))}notifyConnectionChange(){this.connectionChangeListeners.forEach(e=>{try{e()}catch(t){}})}addOnlineListener(e){this.onlineListeners.push(e)}addOfflineListener(e){this.offlineListeners.push(e)}addConnectionChangeListener(e){this.connectionChangeListeners.push(e)}removeOnlineListener(e){const t=this.onlineListeners.indexOf(e);t>-1&&this.onlineListeners.splice(t,1)}removeOfflineListener(e){const t=this.offlineListeners.indexOf(e);t>-1&&this.offlineListeners.splice(t,1)}removeConnectionChangeListener(e){const t=this.connectionChangeListeners.indexOf(e);t>-1&&this.connectionChangeListeners.splice(t,1)}addToRetryQueue(e,t={}){const n={id:`retry-${Date.now()}-${Math.random()}`,operation:e,context:t,timestamp:Date.now(),attempts:0,maxAttempts:t.maxAttempts||3};return this.retryQueue.push(n),navigator.onLine&&this.processRetryQueue(),n.id}async processRetryQueue(){if(this.isProcessingQueue||!navigator.onLine||0===this.retryQueue.length)return;this.isProcessingQueue=!0;const e=[...this.retryQueue];this.retryQueue=[];for(const n of e)try{await n.operation()}catch(t){if(n.attempts++,n.attempts<n.maxAttempts)this.retryQueue.push(n);else{const e=new Z(`ネットワーク復旧後の再試行に失敗しました: ${t.message}`,_.NETWORK,G.MEDIUM,{retryId:n.id,attempts:n.attempts,originalError:t,context:n.context});J.handleError(e)}}this.isProcessingQueue=!1}getConnectionQuality(){const e=this.getCurrentState();if(!e.isOnline)return"offline";switch(e.effectiveType){case"slow-2g":case"2g":return"poor";case"3g":return"good";case"4g":return"excellent";default:return e.downlink>=10?"excellent":e.downlink>=1.5?"good":e.downlink>=.5?"fair":"poor"}}getCurrentState(){let e;return ue.subscribe(t=>{e=t})(),e}async testConnection(e="/api/health"){try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),i=await fetch(e,{method:"HEAD",signal:t.signal,cache:"no-cache"});return clearTimeout(n),i.ok}catch(t){return!1}}cleanup(){"undefined"!=typeof window&&(window.removeEventListener("online",this.handleOnline.bind(this)),window.removeEventListener("offline",this.handleOffline.bind(this))),this.onlineListeners=[],this.offlineListeners=[],this.connectionChangeListeners=[],this.retryQueue=[],this.isInitialized=!1}};var ve=$('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'),he=$('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>'),fe=$('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>'),pe=$('<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>'),me=m('<button type="button"> </button>'),we=m('<div class="toast-actions svelte-1b8horc"></div>'),ge=m('<button class="toast-close svelte-1b8horc" aria-label="通知を閉じる" type="button"><svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button>'),be=m('<div class="toast-progress svelte-1b8horc"><div class="toast-progress-bar svelte-1b8horc"></div></div>'),ye=m('<div aria-atomic="true" tabindex="0"><div class="toast-content svelte-1b8horc"><div class="toast-icon svelte-1b8horc"><!></div> <div class="toast-message svelte-1b8horc"> </div> <!> <!></div> <!></div>');function ke(t,m){n(m,!1);const $=r(),x=r(),O=r();let z=E(m,"message",8,""),S=E(m,"type",8,"info"),D=E(m,"duration",8,5e3),Q=E(m,"dismissible",8,!0),I=E(m,"isPaused",8,!1),A=E(m,"showProgress",8,!0),j=E(m,"actions",24,()=>[]);const H=i();let R,B,P,W=r(!0),F=D(),q=r(),K=r(),V=r(100);function Z(){R&&(clearTimeout(R),R=null),P&&(cancelAnimationFrame(P),P=null)}function _(){if(!A()||D()<=0)return;const e=()=>{if(!h(W)||I())return;const t=Date.now()-B,n=Math.max(0,1-t/F);o(V,100*n),n>0&&(P=requestAnimationFrame(e))};P=requestAnimationFrame(e)}function G(){o(W,!1),Z(),H("close")}function J(e){"Escape"===e.key&&Q()&&G()}a(()=>{D()>0&&(B=Date.now(),function(){if(D()<=0)return;Z(),B=Date.now(),F=D(),R=setTimeout(()=>{G()},D()),A()&&_()}())}),s(()=>{Z()}),l(()=>(c(D()),c(I())),()=>{D()>0&&(I()?function(){if(R){clearTimeout(R),R=null;const e=Date.now()-B;F=Math.max(0,D()-e)}P&&(cancelAnimationFrame(P),P=null)}():F>0&&!R&&(B=Date.now(),R=setTimeout(()=>{G()},F),A()&&_()))}),l(()=>c(S()),()=>{o($,"error"===S()?"alert":"status")}),l(()=>c(S()),()=>{o(x,"error"===S()?"assertive":"polite")}),l(()=>c(S()),()=>{o(O,{success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"}[S()]||"#6b7280")}),u(),e();var ee=d(),te=v(ee),ne=e=>{var t=ye();let n;var i=w(t),a=w(i),s=w(a),r=e=>{var t=ve();f(e,t)},l=e=>{var t=d(),n=v(t),i=e=>{var t=he();f(e,t)},a=e=>{var t=d(),n=v(t),i=e=>{var t=fe();f(e,t)},a=e=>{var t=pe();f(e,t)};T(n,e=>{"warning"===S()?e(i):e(a,!1)},!0),f(e,t)};T(n,e=>{"error"===S()?e(i):e(a,!1)},!0),f(e,t)};T(s,e=>{"success"===S()?e(r):e(l,!1)}),g(a);var u=b(a,2),p=w(u,!0);g(u);var m=b(u,2),E=e=>{var t=we();N(t,5,j,M,(e,t)=>{var n=me(),i=w(n,!0);g(n),k(()=>{U(n,1,`toast-action toast-action-${h(t),y(()=>h(t).variant||"primary")??""}`,"svelte-1b8horc"),L(i,(h(t),y(()=>h(t).label)))}),C("click",n,()=>function(e){try{e.onClick(),G()}catch(t){}}(h(t))),f(e,n)}),g(t),f(e,t)};T(m,e=>{c(j()),y(()=>j()&&j().length>0)&&e(E)});var H=b(m,2),R=e=>{var t=ge();C("click",t,G),f(e,t)};T(H,e=>{Q()&&e(R)}),g(i);var B=b(i,2),P=e=>{var t=be(),n=w(t);g(t),oe(t,e=>o(q,e),()=>h(q)),k(()=>Y(n,`width: ${h(V)??""}%; background-color: ${h(O)??""};`)),f(e,t)};T(B,e=>{A()&&D()>0&&e(P)}),g(t),oe(t,e=>o(K,e),()=>h(K)),k(e=>{n=U(t,1,`toast toast-${S()??""}`,"svelte-1b8horc",n,e),X(t,"role",h($)),X(t,"aria-live",h(x)),L(p,z())},[()=>({paused:I()})]),C("keydown",t,J),f(e,t)};T(te,e=>{h(W)&&e(ne)}),f(t,ee),p()}function Le(e,{from:t,to:n},i={}){var{delay:a=0,duration:s=e=>120*Math.sqrt(e),easing:o=Q}=i,r=getComputedStyle(e),l="none"===r.transform?"":r.transform,[c,u]=r.transformOrigin.split(" ").map(parseFloat);c/=e.clientWidth,u/=e.clientHeight;var d=function(e){if("currentCSSZoom"in e)return e.currentCSSZoom;var t=e,n=1;for(;null!==t;)n*=+getComputedStyle(t).zoom,t=t.parentElement;return n}(e),v=e.clientWidth/n.width/d,h=e.clientHeight/n.height/d,f=t.left+t.width*c,p=t.top+t.height*u,m=n.left+n.width*c,w=n.top+n.height*u,g=(f-m)*v,b=(p-w)*h,y=t.width/n.width,k=t.height/n.height;return{delay:a,duration:"function"==typeof s?s(Math.sqrt(g*g+b*b)):s,easing:o,css:(e,t)=>`transform: ${l} translate(${t*g}px, ${t*b}px) scale(${e+t*y}, ${e+t*k});`}}var Ce=m('<div class="notification-header svelte-bmueb8"><button class="clear-all-button svelte-bmueb8" aria-label="すべての通知をクリア" type="button"><svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg> すべてクリア</button></div>'),$e=m('<div class="notification-wrapper svelte-bmueb8"><!></div>'),xe=m('<div class="notification-overflow svelte-bmueb8"><span class="overflow-text svelte-bmueb8"> </span> <button class="show-all-button svelte-bmueb8" type="button">すべて表示</button></div>'),Oe=m('<div role="region" aria-label="通知" aria-live="polite"><!> <div class="notifications-list svelte-bmueb8"></div> <!></div>');function ze(t,i){n(i,!1);const[a,m]=S(),$=()=>D(ee,"$uiStore",a),z=r(),M=r();let Q=E(i,"position",8,"top-right"),H=E(i,"maxNotifications",12,5),R=E(i,"defaultDuration",8,5e3),B=E(i,"pauseOnHover",8,!0),P=E(i,"stackDirection",8,"down"),W=E(i,"animationDuration",8,300),F=E(i,"spacing",8,8),q=r([]),K=r(),Z=new Set;const _=ee.subscribe(e=>{o(q,e.notifications.slice(-H()))});function G(){V.clearNotifications(),Z.clear()}function J(){B()&&h(q).forEach(e=>{Z.add(e.id)})}function te(){B()&&(Z.forEach(e=>{const t=h(q).find(t=>t.id===e);if(t){const n=Date.now()-t.timestamp,i=R()-n;i>0&&setTimeout(()=>{Z.has(e)||V.removeNotification(e)},i)}}),Z.clear())}function ne(e){const t=parseInt(e.target.dataset.notificationId);t&&B()&&Z.add(t)}function ie(e){const t=parseInt(e.target.dataset.notificationId);t&&Z.delete(t)}s(()=>{_()}),l(()=>h(q),()=>{h(q).forEach(e=>{e._autoRemovalSet||(e._autoRemovalSet=!0,function(e){if(0===e.duration)return;const t=e.duration||R();setTimeout(()=>{Z.has(e.id)||V.removeNotification(e.id)},t)}(e))})}),l(()=>c(Q()),()=>{o(z,`position-${Q()}`)}),l(()=>c(P()),()=>{o(M,`stack-${P()}`)}),u(),e();var ae=d();C("keydown",x,function(e){"Escape"===e.key&&G()});var se=v(ae),re=e=>{var t=Oe(),n=w(t),i=e=>{var t=Ce(),n=w(t);g(t),C("click",n,G),f(e,t)};T(n,e=>{h(q),y(()=>h(q).length>1)&&e(i)});var a=b(n,2);N(a,13,()=>h(q),e=>e.id,(e,t)=>{var n=$e(),i=w(n);{let e=O(()=>(h(t),y(()=>Z.has(h(t).id))));ke(i,{get message(){return h(t),y(()=>h(t).message)},get type(){return h(t),y(()=>h(t).type)},duration:0,dismissible:!0,get isPaused(){return h(e)},$$events:{close:()=>{return e=h(t).id,V.removeNotification(e),void Z.delete(e);var e}}})}g(n),k(()=>X(n,"data-notification-id",(h(t),y(()=>h(t).id)))),C("focus",n,ne),C("blur",n,ie),I(1,n,()=>A,()=>({x:Q().includes("right")?300:Q().includes("left")?-300:0,y:Q().includes("top")?-50:Q().includes("bottom")?50:0,duration:W()})),I(2,n,()=>A,()=>({x:Q().includes("right")?300:Q().includes("left")?-300:0,duration:W()})),j(n,()=>Le,()=>({duration:W()})),f(e,n)}),g(a);var s=b(a,2),r=e=>{var t=xe(),n=w(t),i=w(n);g(n);var a=b(n,2);g(t),k(()=>L(i,`他に ${$(),c(H()),y(()=>$().notifications.length-H())??""} 件の通知があります`)),C("click",a,()=>H($().notifications.length)),f(e,t)};T(s,e=>{$(),c(H()),y(()=>$().notifications.length>H())&&e(r)}),g(t),oe(t,e=>o(K,e),()=>h(K)),k(()=>{U(t,1,`notification-container ${h(z)??""} ${h(M)??""}`,"svelte-bmueb8"),Y(t,`--spacing: ${F()??""}px; --animation-duration: ${W()??""}ms;`)}),C("mouseenter",t,J),C("mouseleave",t,te),f(e,t)};T(se,e=>{h(q),y(()=>h(q).length>0)&&e(re)}),f(t,ae),p(),m()}var Ee=m('<div class="nav-brand svelte-1oa544o"><a class="brand-link svelte-1oa544o"> </a></div>'),Te=m('<button><span class="hamburger-line svelte-1oa544o"></span> <span class="hamburger-line svelte-1oa544o"></span> <span class="hamburger-line svelte-1oa544o"></span></button>'),Se=m('<span class="nav-icon svelte-1oa544o"> </span>'),De=m('<a><!> <span class="nav-text svelte-1oa544o"> </span></a>'),Ne=m('<span class="nav-icon svelte-1oa544o"> </span>'),Me=m('<button><!> <span class="nav-text svelte-1oa544o"> </span></button>'),Qe=m('<li class="nav-item svelte-1oa544o"><!></li>'),Ie=m('<div class="nav-overlay svelte-1oa544o" role="button" tabindex="0" aria-label="メニューを閉じる"></div>'),Ae=m('<nav><!> <!> <div><ul class="nav-list svelte-1oa544o"></ul></div> <!></nav>');var je=m('<div class="loading-overlay svelte-z9eu0n"><div class="loading-spinner svelte-z9eu0n"></div></div>'),He=m("<div><!> <!></div>");var Re=m('<li class="svelte-1nuwwl7"><a href="/admin" class="svelte-1nuwwl7">管理ダッシュボード</a></li>'),Be=m('<li class="svelte-1nuwwl7"><a href="/login" class="svelte-1nuwwl7">管理者ログイン</a></li>'),Pe=m('<div class="footer-content svelte-1nuwwl7"><div class="footer-section svelte-1nuwwl7"><h3 class="footer-title svelte-1nuwwl7">トーナメント管理システム</h3> <p class="footer-description svelte-1nuwwl7">バレーボール、卓球、8人制サッカーのトーナメント管理</p></div> <div class="footer-section svelte-1nuwwl7"><h4 class="footer-subtitle svelte-1nuwwl7">リンク</h4> <ul class="footer-links svelte-1nuwwl7"><li class="svelte-1nuwwl7"><a href="/" class="svelte-1nuwwl7">ホーム</a></li> <!></ul></div></div> <div class="footer-bottom svelte-1nuwwl7"><p class="svelte-1nuwwl7">&copy; 2024 トーナメント管理システム. All rights reserved.</p></div>',1),We=m('<div class="loading-overlay svelte-1nuwwl7"><div class="loading-content svelte-1nuwwl7"><!> <p class="loading-text svelte-1nuwwl7">処理中...</p></div></div>'),Fe=m('<div class="network-status offline svelte-1nuwwl7" role="alert" aria-live="polite"><div class="network-status-content svelte-1nuwwl7"><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" class="network-icon svelte-1nuwwl7"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" class="svelte-1nuwwl7"></path><path d="M3 16l14-14" stroke="currentColor" stroke-width="2" class="svelte-1nuwwl7"></path></svg> <span class="svelte-1nuwwl7">オフライン - 接続が復旧したら自動的に同期されます</span></div></div>'),qe=m('<div class="app-layout svelte-1nuwwl7"><header class="header svelte-1nuwwl7"><!></header> <main class="main-content svelte-1nuwwl7"><!></main> <footer class="footer svelte-1nuwwl7"><!></footer> <!> <!> <!></div>');function Ke(t,m){n(m,!1);const[$,x]=S(),O=()=>D(F,"$authStore",$),Q=()=>D(ee,"$uiStore",$),I=()=>D(ue,"$networkStore",$),A=()=>D(le,"$page",$),j=r(),W=r(),Z=r(),_=r(),G=r();let J;async function Y(){try{V.setLoading(!0),V.showNotification("ログアウト中...","info"),await K("/")}catch(e){V.showNotification("ログアウト処理でエラーが発生しました","error"),V.setLoading(!1)}}function re(e){const{item:t}=e.detail;t.onClick&&t.onClick()}a(()=>{ae.measureWebVitals(),ne(),de.initialize(),ie(),V.loadTheme(),F.initialize(),J=q()}),s(()=>{J&&J(),ae.disconnect()}),l(()=>O(),()=>{o(j,O())}),l(()=>Q(),()=>{o(W,Q())}),l(()=>I(),()=>{o(Z,I())}),l(()=>h(j),()=>{o(_,[{key:"home",label:"ホーム",href:"/",icon:"🏠"},...h(j).isAuthenticated?[{key:"admin",label:"管理ダッシュボード",href:"/admin",icon:"⚙️"},{key:"logout",label:"ログアウト",onClick:Y,icon:"🚪"}]:[{key:"login",label:"管理者ログイン",href:"/login",icon:"🔑"}]])}),l(()=>A(),()=>{var e;o(G,"/"===(e=A().url.pathname)?"home":e.startsWith("/admin")?"admin":e.startsWith("/login")?"login":"")}),u(),e(),B(t,{children:(t,$)=>{var x=qe(),O=w(x);!function(t,m){n(m,!1);const $=r();let x=E(m,"items",24,()=>[]),O=E(m,"activeItem",8,""),z=E(m,"brand",8,""),S=E(m,"brandHref",8,"/"),D=E(m,"mobileBreakpoint",8,768),Q=E(m,"className",8,"");const I=i();let A=r(!1),j=r(!1),H=r();function R(){"undefined"!=typeof window&&o(j,window.innerWidth<D())}function B(){o(A,!h(A)),I("toggle",{isOpen:h(A)})}function P(){o(A,!1),I("close")}function W(e,t){h(j)&&P(),I("itemClick",{item:e,event:t})}function F(e){h(A)&&h(H)&&!h(H).contains(e.target)&&P()}function q(e){"Escape"===e.key&&h(A)&&P()}function K(){R(),!h(j)&&h(A)&&P()}a(()=>{R(),window.addEventListener("resize",K),document.addEventListener("click",F),document.addEventListener("keydown",q)}),s(()=>{"undefined"!=typeof window&&(window.removeEventListener("resize",K),document.removeEventListener("click",F),document.removeEventListener("keydown",q))}),l(()=>(h(A),h(j),c(Q())),()=>{o($,["responsive-nav",h(A)?"nav-open":"",h(j)?"nav-mobile":"nav-desktop",Q()].filter(Boolean).join(" "))}),u(),e();var V=Ae(),Z=w(V),_=e=>{var t=Ee(),n=w(t),i=w(n,!0);g(n),g(t),k(()=>{X(n,"href",S()),L(i,z())}),f(e,t)};T(Z,e=>{z()&&e(_)});var G=b(Z,2),J=e=>{var t=Te();let n;k(e=>{n=U(t,1,"nav-toggle svelte-1oa544o",null,n,e),X(t,"aria-label","メニューを"+(h(A)?"閉じる":"開く")),X(t,"aria-expanded",h(A))},[()=>({active:h(A)})]),C("click",t,B),f(e,t)};T(G,e=>{h(j)&&e(J)});var Y=b(G,2);let ee;var ne=w(Y);N(ne,5,x,M,(e,t)=>{var n=Qe(),i=w(n),a=e=>{var n=De();let i;var a=w(n),s=e=>{var n=Se(),i=w(n,!0);g(n),k(()=>L(i,(h(t),y(()=>h(t).icon)))),f(e,n)};T(a,e=>{h(t),y(()=>h(t).icon)&&e(s)});var o=b(a,2),r=w(o,!0);g(o),g(n),k(e=>{X(n,"href",(h(t),y(()=>h(t).href))),i=U(n,1,"nav-link svelte-1oa544o",null,i,e),L(r,(h(t),y(()=>h(t).label)))},[()=>({active:O()===h(t).key})]),C("click",n,e=>W(h(t),e)),f(e,n)},s=e=>{var n=d(),i=v(n),a=e=>{var n=Me();let i;var a=w(n),s=e=>{var n=Ne(),i=w(n,!0);g(n),k(()=>L(i,(h(t),y(()=>h(t).icon)))),f(e,n)};T(a,e=>{h(t),y(()=>h(t).icon)&&e(s)});var o=b(a,2),r=w(o,!0);g(o),g(n),k(e=>{i=U(n,1,"nav-button svelte-1oa544o",null,i,e),L(r,(h(t),y(()=>h(t).label)))},[()=>({active:O()===h(t).key})]),C("click",n,e=>W(h(t),e)),f(e,n)};T(i,e=>{h(t),y(()=>h(t).onClick)&&e(a)},!0),f(e,n)};T(i,e=>{h(t),y(()=>h(t).href)?e(a):e(s,!1)}),g(n),f(e,n)}),g(ne),g(Y);var ie=b(Y,2),ae=e=>{var t=Ie();C("click",t,P),C("keydown",t,e=>"Enter"===e.key&&P()),f(e,t)};T(ie,e=>{h(j)&&h(A)&&e(ae)}),g(V),oe(V,e=>o(H,e),()=>h(H)),k(e=>{U(V,1,te(h($)),"svelte-1oa544o"),ee=U(Y,1,"nav-menu svelte-1oa544o",null,ee,e)},[()=>({show:h(A)||!h(j)})]),f(t,V),p()}(w(O),{brand:"トーナメント管理",brandHref:"/",get items(){return h(_)},get activeItem(){return h(G)},className:"main-navigation",$$events:{itemClick:re}}),g(O);var Q=b(O,2),I=w(Q);se(I,{errorTitle:"アプリケーションエラー",errorMessage:"アプリケーションでエラーが発生しました。ページを再読み込みするか、しばらく待ってから再試行してください。",showRetry:!0,retryText:"再読み込み",onRetry:()=>window.location.reload(),children:(t,i)=>{!function(t,i){n(i,!1);const[s,c]=S(),m=()=>D(ce,"$navigating",s),y=()=>D(le,"$page",s);let L=E(i,"transitionType",8,"fade"),C=E(i,"duration",8,300),$=E(i,"className",8,""),x=r(!1),O=r(""),z=r(!0);a(()=>{o(z,!0),o(O,y().url.pathname)}),l(()=>(m(),h(x)),()=>{m()?(o(x,!0),o(z,!1)):h(x)&&setTimeout(()=>{o(z,!0),o(x,!1)},50)}),l(()=>(y(),h(O),h(x)),()=>{y().url.pathname!==h(O)&&(o(O,y().url.pathname),h(x)||o(z,!0))}),u(),e();var N=He(),M=w(N);H(M,{get show(){return h(z)},get type(){return L()},get duration(){return C()},direction:"up",className:"page-content",children:(e,t)=>{var n=d(),a=v(n);R(a,i,"default",{}),f(e,n)},$$slots:{default:!0}});var Q=b(M,2),I=e=>{var t=je();f(e,t)};T(Q,e=>{h(x)&&e(I)}),g(N),k(()=>U(N,1,`page-transition-container ${$()??""}`,"svelte-z9eu0n")),f(t,N),p(),c()}(t,{transitionType:"fade",duration:300,children:(e,t)=>{var n=d(),i=v(n);R(i,m,"default",{}),f(e,n)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(Q);var A=b(Q,2),F=w(A);B(F,{container:!0,padding:!0,children:(e,t)=>{var n=Pe(),i=v(n),a=b(w(i),2),s=b(w(a),2),o=b(w(s),2),r=e=>{var t=Re();f(e,t)},l=e=>{var t=Be();f(e,t)};T(o,e=>{h(j),y(()=>h(j).isAuthenticated)?e(r):e(l,!1)}),g(s),g(a),g(i),z(2),f(e,n)},$$slots:{default:!0}}),g(A);var q=b(A,2),K=e=>{var t=We(),n=w(t),i=w(n);P(i,{size:"large"}),z(2),g(n),g(t),f(e,t)};T(q,e=>{h(W),h(j),y(()=>h(W).loading||h(j).loading)&&e(K)});var V=b(q,2),J=e=>{var t=Fe();f(e,t)};T(V,e=>{h(Z),y(()=>!h(Z).isOnline)&&e(J)}),ze(b(V,2),{position:"top-right",maxNotifications:5,defaultDuration:5e3,pauseOnHover:!0,stackDirection:"down"}),g(x),f(t,x)},$$slots:{default:!0}}),p(),x()}export{Ke as component};
